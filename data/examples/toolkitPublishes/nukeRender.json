{
  "scripts": [
    "*/*.py"
  ],
  "vars": {
    "prefix": "/data/job",
    "job": "RND"
  },
  "taskHolders": [
    {
      "task": "copy",
      "targetTemplate": "{prefix}/{job}/sequences/{seq}/!{shot}/comp/publish/elements/{renderName}/{output}/{version}/{width}x{height}/{baseName}",
      "matchTypes": [
        "nukeRender"
      ],
      "matchVars": {
        "imageType": [
          "sequence"
        ]
      },
      "taskHolders": [
        {
          "task": "nukeTemplate",
          "taskOptions": {
            "job": "{job}",
            "vendor": "",
            "shot": "{shot}",
            "logo": "{prefix}/{job}/reference/logo.png",
            "date": "(yyyy)(mm)(dd)",
            "notes": "{comment}",
            "videocodec": "",
            "name": "{renderName}, {version}",
            "template": "{configPath}/templates/vidoutTemplate.nk"
          },
          "targetTemplate": "{prefix}/{job}/sequences/{seq}/!{shot}/comp/review/{name}.mov",
          "matchTypes": [
            "tkNukeRender"
          ],
          "matchVars": {
            "imageType": [
              "sequence"
            ]
          }
        }
        ]
      },
      {
        "task": "sequenceThumbnail",
        "targetTemplate": "{prefix}/{job}/sequences/{seq}/!{shot}/comp/review/.thumbnail/{name}.jpg",
        "matchTypes": [
          "nukeRender"
        ],
        "matchVars": {
          "imageType": [
            "sequence"
          ]
        },
        "taskWrapper": "subprocess"
      },
      {
        "task": "sgImageSeqPublish",
        "taskOptions": {
          "publishedFileType": "Rendered Image",
          "movieFile": "{prefix}/{job}/sequences/{seq}/{shot}/comp/review/{name}.mov",
          "thumbnailFile": "{prefix}/{job}/sequences/{seq}/{shot}/comp/review/.thumbnail/{name}.jpg"
        }
      }
  ]
}
